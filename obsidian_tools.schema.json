{
  "version": "2.0",
  "generated_at": "2025-11-08T07:57:32.073291Z",
  "phase": "2-canonical-schema",
  "total_tools": 32,
  "tools": {
    "update_note": {
      "name": "update_note",
      "description": "Edit/reformat existing note content.\n\nUSE THIS WHEN:\n- User wants to modify or reformat an existing note\n- Fixing formatting, reorganizing sections, or updating content",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Path to note"
          },
          "new_content": {
            "type": "string",
            "description": "New content"
          },
          "mode": {
            "type": "string",
            "enum": [
              "replace",
              "append",
              "prepend"
            ]
          }
        },
        "required": [
          "file_path",
          "new_content"
        ]
      }
    },
    "rename_note": {
      "name": "rename_note",
      "description": "Rename a note without moving it.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string"
          },
          "new_title": {
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "new_title"
        ]
      }
    },
    "move_note": {
      "name": "move_note",
      "description": "Move a note to a different folder.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string"
          },
          "destination_folder": {
            "type": "string"
          }
        },
        "required": [
          "file_path",
          "destination_folder"
        ]
      }
    },
    "list_folder": {
      "name": "list_folder",
      "description": "List all notes in a folder.",
      "parameters": {
        "type": "object",
        "properties": {
          "folder_name": {
            "type": "string",
            "description": "Folder to list"
          }
        },
        "required": [
          "folder_name"
        ]
      }
    },
    "add_tags": {
      "name": "add_tags",
      "description": "Add or modify tags on a note.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "mode": {
            "type": "string",
            "enum": [
              "add",
              "replace"
            ]
          }
        },
        "required": [
          "file_path",
          "tags"
        ]
      }
    },
    "get_today_tasks": {
      "name": "get_today_tasks",
      "description": "Get all tasks from today's daily note in structured format.",
      "parameters": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "Optional date YYYY-MM-DD"
          }
        }
      }
    },
    "find_related_notes": {
      "name": "find_related_notes",
      "description": "Find other notes that are related or connected to a note.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string"
          },
          "limit": {
            "type": "integer",
            "default": 5
          }
        },
        "required": [
          "file_path"
        ]
      }
    },
    "search_vault": {
      "name": "search_vault",
      "description": "Search across all vault content for keywords or topics. Returns matching files with context. Use this when the user wants to find information they previously saved. CRITICAL: Preserve the 'vault:' prefix in file paths when presenting results - these become clickable links.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "The text or keywords to search for"
          },
          "folders": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Optional: limit search to specific folders (e.g., ['Daily Notes', 'Jobs'])"
          }
        },
        "required": [
          "query"
        ]
      }
    },
    "create_link": {
      "name": "create_link",
      "description": "Create wiki-style links from one note to another.",
      "parameters": {
        "type": "object",
        "properties": {
          "source_file": {
            "type": "string"
          },
          "target_file": {
            "type": "string"
          },
          "link_text": {
            "type": "string"
          }
        },
        "required": [
          "source_file",
          "target_file"
        ]
      }
    },
    "append_to_daily_note": {
      "name": "append_to_daily_note",
      "description": "Add content to today's daily note in the Obsidian vault.\n\nUSE THIS WHEN:\n- User wants to quickly capture thoughts, ideas, or tasks for today\n- User says \"add to my daily note\", \"capture this\", \"remember this\"\n- General notes that belong with today's activities\n\nDO NOT USE FOR:\n- Job/project information (use create_job_note or create_simple_note in Jobs folder)\n- Long-form documentation (use create_simple_note in Reference)\n- Meeting notes (use create_from_template with Meeting template)\n\nExample: User says \"remind me to call John tomorrow\" \u2192 USE append_to_daily_note with section=\"Tasks\"\nCounter-example: User says \"create job 1234 for Acme Corp\" \u2192 DO NOT use this, use create_job_note instead",
      "parameters": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "The content to add to the daily note"
          },
          "section": {
            "type": "string",
            "enum": [
              "Quick Captures",
              "Work Notes",
              "Personal Notes",
              "Tasks"
            ],
            "description": "Which section of the daily note to add to. Default: Quick Captures"
          },
          "date": {
            "type": "string",
            "description": "Optional date in YYYY-MM-DD format. Defaults to today."
          }
        },
        "required": [
          "content"
        ]
      }
    },
    "create_simple_note": {
      "name": "create_simple_note",
      "description": "Create a simple markdown note with custom content in any folder.\n\nUSE THIS WHEN:\n- User wants to create a standalone note with specific content\n- Documentation, reference material, or knowledge base entries\n- Meeting notes, brainstorm sessions, or research notes (when not using templates)\n- General notes that don't fit job/project structure\n\nDO NOT USE FOR:\n- Quick daily captures (use append_to_daily_note)\n- Formal job/project tracking with job numbers (use create_job_note)\n- Notes that have an existing template (use create_from_template)\n\nAvailable folders: Daily Notes', 'Homelab', 'Jobs', 'Meetings', 'Property', 'Reference', 'Templates', 'Workshop', 'obsidian-vault\n\nExample: User says \"create a note about Docker networking in my Homelab folder\" \u2192 USE this\nCounter-example: User says \"quick note for today\" \u2192 DO NOT use this, use append_to_daily_note",
      "parameters": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "The title/name of the note (will be used as filename)"
          },
          "content": {
            "type": "string",
            "description": "The markdown content for the note"
          },
          "folder": {
            "type": "string",
            "description": "Which folder to create the note in. Must be one of: 'Daily Notes', 'Homelab', 'Jobs', 'Meetings', 'Property', 'Reference', 'Templates', 'Workshop', 'obsidian-vault'"
          }
        },
        "required": [
          "title",
          "content",
          "folder"
        ]
      }
    },
    "create_job_note": {
      "name": "create_job_note",
      "description": "Create a new job/project note in the Jobs folder with structured tracking.\n\nUSE THIS ONLY WHEN:\n- User explicitly mentions a job NUMBER or ID (e.g., \"Job 1234\", \"#2045\")\n- User wants to START TRACKING a formal project with client information\n- User says \"create a new job\", \"start project tracking\", \"new client project\"\n- The context clearly indicates a work project that needs structured tracking\n\nDO NOT USE FOR:\n- General meeting notes about a job (use create_simple_note in Jobs or Daily Notes)\n- Quick notes during a job (use append_to_daily_note or create_simple_note)\n- Any note without a clear job number or project ID\n- Personal projects or homelab tasks\n\nREQUIRED: job_number must contain digits (e.g., \"1234\", \"PRJ-2045\", \"Job #567\")\n\nExample: User says \"start job 1234 for Acme Corp remodel\" \u2192 USE this with job_number=\"1234\", job_name=\"Acme Corp remodel\"\nCounter-example: User says \"note about meeting with Acme Corp\" \u2192 DO NOT use this, use create_simple_note instead",
      "parameters": {
        "type": "object",
        "properties": {
          "job_number": {
            "type": "string",
            "description": "The job number or ID"
          },
          "job_name": {
            "type": "string",
            "description": "The name of the job or project"
          },
          "client": {
            "type": "string",
            "description": "The client name (optional)"
          }
        },
        "required": [
          "job_number",
          "job_name"
        ]
      }
    },
    "read_note": {
      "name": "read_note",
      "description": "Read the content of any note from the Obsidian vault by its path.\n\nUSE THIS WHEN:\n- User asks to read/show/view a specific file (e.g., \"Show me Useful Commands.md\")\n- User wants to see the contents of a file after listing folder contents\n- User references a specific note by name and wants to read it\n\nDO NOT USE FOR:\n- Reading daily notes by date (use read_daily_note)\n- Searching for content across files (use search_vault)\n\nExample: After list_folder_contents shows \"Useful Commands.md\" in Homelab, user says \"Show the contents of Useful Commands\" \u2192 USE this with file_path=\"Homelab/Useful Commands.md\" ",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Relative path to the note from vault root (e.g., 'Homelab/Useful Commands.md', 'Jobs/1234-Project/1234-Project.md')"
          }
        },
        "required": [
          "file_path"
        ]
      }
    },
    "delete_note": {
      "name": "delete_note",
      "description": "Delete a note from the vault (use with caution).\n\nUSE THIS WHEN:\n- User explicitly says to remove or delete a note\n- A note has been migrated elsewhere and the original should be removed\n- Cleaning up obsolete or duplicate notes\n\nDO NOT USE FOR:\n- Archiving (consider moving to an Archive folder instead)\n- Removing sections within a note (use update_note_section or append_to_daily_note)\n- Deleting folders or large batches without confirmation\n\nAlways confirm path with list_folder_contents or read_note if unsure.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Relative path to the note to delete (e.g., 'Reference/Old Note.md')"
          },
          "dry_run": {
            "type": "boolean",
            "description": "If true, preview deletion without removing the file"
          }
        },
        "required": [
          "file_path"
        ]
      }
    },
    "read_daily_note": {
      "name": "read_daily_note",
      "description": "Read the content of a daily note from the Obsidian vault. Use this when the user wants to see what they wrote on a specific day.",
      "parameters": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "Date in YYYY-MM-DD format. Leave empty for today."
          }
        }
      }
    },
    "get_vault_structure": {
      "name": "get_vault_structure",
      "description": "Get an overview of the Obsidian vault structure, including folders and recent notes. Use this when the user wants to see what's in their vault.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    },
    "list_folder_contents": {
      "name": "list_folder_contents",
      "description": "List all markdown files in a specific vault folder.\n\nUSE THIS WHEN:\n- User asks \"what's in my homelab folder?\", \"list files in Jobs\", \"show me what's in Templates\"\n- User wants to see all files in a specific folder\n- User asks about folder contents\n\nThis returns the actual file names and paths, not search results.\n\nCRITICAL: Return the function response EXACTLY as-is to the user. Do not reformat, summarize, or modify the list. The function already formats it perfectly with numbered items and \"vault:\" prefixes that become clickable links in the UI.\n\nExample: User asks \"What is in my Homelab folder?\" \u2192 call list_folder_contents with folder_name=\"Homelab\" ",
      "parameters": {
        "type": "object",
        "properties": {
          "folder_name": {
            "type": "string",
            "description": "Name of the folder to list (e.g., 'Homelab', 'Jobs', 'Daily Notes', 'Templates')"
          }
        },
        "required": [
          "folder_name"
        ]
      }
    },
    "update_note_section": {
      "name": "update_note_section",
      "description": "Update or replace the content of a specific section in an existing note.\n\nUSE THIS WHEN:\n- User wants to REPLACE content in a specific section (not add to it)\n- User says \"update the Overview section\", \"change the Tasks section\"\n- Editing or rewriting a section while keeping other sections intact\n\nDO NOT USE FOR:\n- Adding new content (use append_to_daily_note or create_simple_note)\n- Creating new notes (use create_simple_note or create_job_note)\n- Replacing individual words or phrases (use replace_text_in_note)\n\nREQUIRES: The note and section must already exist. Use search_vault to find the correct path first.\n\nExample: User says \"update the Overview section in job 1234 with new scope\" \u2192 USE this with file_path=\"Jobs/1234 - Project/1234 - Project.md\"\nCounter-example: User says \"add a note to job 1234\" \u2192 DO NOT use this, use create_simple_note or append_to_daily_note",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Relative path to the note (e.g., 'Daily Notes/2025-10-26.md' or 'Jobs/1234-Project/1234-Project.md')"
          },
          "section_name": {
            "type": "string",
            "description": "The section header to update (without ## prefix, e.g., 'Work Notes', 'Overview', 'Tasks')"
          },
          "new_content": {
            "type": "string",
            "description": "The new content for this section"
          }
        },
        "required": [
          "file_path",
          "section_name",
          "new_content"
        ]
      }
    },
    "replace_text_in_note": {
      "name": "replace_text_in_note",
      "description": "Find and replace specific text in a note. Use for updating status, fixing errors, or making specific text changes.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Relative path to the note"
          },
          "old_text": {
            "type": "string",
            "description": "The exact text to find"
          },
          "new_text": {
            "type": "string",
            "description": "The text to replace it with"
          }
        },
        "required": [
          "file_path",
          "old_text",
          "new_text"
        ]
      }
    },
    "research_and_save": {
      "name": "research_and_save",
      "description": "Search the web for information about a topic, summarize findings, and save to the vault. Use when the user asks to research or look up information. Available vault folders: 'Daily Notes', 'Homelab', 'Jobs', 'Meetings', 'Property', 'Reference', 'Templates', 'Workshop', 'obsidian-vault'",
      "parameters": {
        "type": "object",
        "properties": {
          "topic": {
            "type": "string",
            "description": "The topic or question to research"
          },
          "save_location": {
            "type": "string",
            "description": "Where to save. Use one of these folder names: 'Daily Notes', 'Homelab', 'Jobs', 'Meetings', 'Property', 'Reference', 'Templates', 'Workshop', 'obsidian-vault'. OR provide a specific file path ending in .md to append to an existing note (e.g., 'Daily Notes/2025-10-29.md')."
          },
          "depth": {
            "type": "string",
            "enum": [
              "quick",
              "detailed"
            ],
            "description": "How thorough the research should be. Default: quick"
          }
        },
        "required": [
          "topic"
        ]
      }
    },
    "create_from_template": {
      "name": "create_from_template",
      "description": "Create a new note from a template with variable substitution. Use for meeting notes, weekly reviews, client briefs, etc. Available vault folders: 'Daily Notes', 'Homelab', 'Jobs', 'Meetings', 'Property', 'Reference', 'Templates', 'Workshop', 'obsidian-vault'",
      "parameters": {
        "type": "object",
        "properties": {
          "template_name": {
            "type": "string",
            "description": "Name of the template to use (e.g., 'Meeting Notes', 'Weekly Review', 'Client Brief')"
          },
          "destination": {
            "type": "string",
            "description": "Where to save. Use one of these folder names: 'Daily Notes', 'Homelab', 'Jobs', 'Meetings', 'Property', 'Reference', 'Templates', 'Workshop', 'obsidian-vault', OR provide a full path ending in .md (e.g., 'Jobs/1234/meeting.md')"
          },
          "variables": {
            "type": "object",
            "description": "Variables to substitute in template (e.g., {title: 'Project Kickoff', client: 'Acme Corp'}). Template uses {{variable}} syntax."
          }
        },
        "required": [
          "template_name",
          "destination"
        ]
      }
    },
    "list_templates": {
      "name": "list_templates",
      "description": "Show all available templates in the vault. Use when user asks what templates exist.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    },
    "save_custom_template": {
      "name": "save_custom_template",
      "description": "Save a new custom template for future use. Use when user wants to create a reusable template.",
      "parameters": {
        "type": "object",
        "properties": {
          "template_name": {
            "type": "string",
            "description": "Name for the new template"
          },
          "content": {
            "type": "string",
            "description": "Template content. Can include {{variable}} placeholders for substitution."
          }
        },
        "required": [
          "template_name",
          "content"
        ]
      }
    },
    "suggest_links": {
      "name": "suggest_links",
      "description": "Analyze text and suggest [[wikilinks]] to existing notes. Use when user wants to connect related notes.",
      "parameters": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Text to analyze for potential links"
          },
          "auto_apply": {
            "type": "boolean",
            "description": "Whether to automatically add links (true) or just suggest them (false)"
          }
        },
        "required": [
          "content"
        ]
      }
    },
    "suggest_tags_for_note": {
      "name": "suggest_tags_for_note",
      "description": "Analyze note content and suggest relevant tags based on vault taxonomy. Use when user wants help organizing notes.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Relative path to the note to analyze"
          },
          "auto_apply": {
            "type": "boolean",
            "description": "Whether to automatically apply tags (true) or just suggest them (false)"
          }
        },
        "required": [
          "file_path"
        ]
      }
    },
    "find_orphaned_notes": {
      "name": "find_orphaned_notes",
      "description": "Find notes with no incoming or outgoing links (isolated notes). Use to identify disconnected knowledge.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    },
    "suggest_note_connections": {
      "name": "suggest_note_connections",
      "description": "Suggest potential connections between notes based on shared tags and content. Use to discover hidden relationships.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Optional: specific note to analyze (or analyze entire vault)"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of suggestions (default: 5)"
          }
        }
      }
    },
    "analyze_vault_clusters": {
      "name": "analyze_vault_clusters",
      "description": "Identify clusters/groups of related notes by tags and connections. Use to understand vault organization.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    },
    "get_note_network": {
      "name": "get_note_network",
      "description": "Get all notes connected to a specific note (network neighborhood). Use to explore note relationships.",
      "parameters": {
        "type": "object",
        "properties": {
          "file_path": {
            "type": "string",
            "description": "Note to analyze"
          },
          "depth": {
            "type": "integer",
            "description": "How many hops out (1=direct connections, 2=friends-of-friends). Default: 1"
          }
        },
        "required": [
          "file_path"
        ]
      }
    },
    "create_scheduled_task": {
      "name": "create_scheduled_task",
      "description": "Schedule a recurring vault action (daily weekly reviews, auto-backups, etc). Use for automation.",
      "parameters": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Task name/description"
          },
          "schedule": {
            "type": "string",
            "description": "Schedule: 'daily', 'weekly', 'monthly', or 'every_N_days'"
          },
          "action": {
            "type": "string",
            "description": "Action to perform: 'create_from_template', 'append_to_daily', etc."
          },
          "parameters": {
            "type": "object",
            "description": "Parameters for the action (e.g., template_name, content, section)"
          }
        },
        "required": [
          "name",
          "schedule",
          "action"
        ]
      }
    },
    "list_scheduled_tasks": {
      "name": "list_scheduled_tasks",
      "description": "Show all scheduled/recurring tasks. Use to see what's automated.",
      "parameters": {
        "type": "object",
        "properties": {}
      }
    }
  }
}